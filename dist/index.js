!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).$ProEventBus=e()}(this,(function(){"use strict";function t(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}var e=function(t){return"[object Function]"===Object.prototype.toString.call(t)},r=function(t){return"[object String]"===Object.prototype.toString.call(t)},n=function(){function n(){this._listeners=Object.create(null)}return n.prototype.on=function(t,n){if(!r(t))throw new TypeError("Parameter 1 is not a string");if(!e(n))throw new TypeError("Parameter 2 is not a function");(this._listeners[t]||(this._listeners[t]=[])).push(n);var i=this;return function(){n.__onceListener__||i.off(t,n)}},n.prototype.once=function(n,i){if(!r(n))throw new TypeError("Parameter 1 is not a string");if(!e(i))throw new TypeError("Parameter 2 is not a function");var o=function e(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];i.call.apply(i,t([i],r,!1)),this.off(n,e)};o.__onceListener__=i,this.on(n,o)},n.prototype.emit=function(e){for(var n=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(!r(e))throw new TypeError("Parameter 1 is not a string");return this._listeners[e]&&this._listeners[e].length&&this._listeners[e].forEach((function(e){e.call.apply(e,t([n],i,!1))})),this},n.prototype.off=function(t,n){if(!r(t))throw new TypeError("Parameter 1 is not a string");if(!e(n))throw new TypeError("Parameter 2 is not a function");return this._listeners[t]&&this._listeners[t].length&&(this._listeners[t]=this._listeners[t].filter((function(t){return t!==n&&t.__onceListener__!==n}))),this},n.prototype.offAll=function(t){if(!t)return this._listeners=Object.create(null),this;if(!r(t))throw new TypeError("Parameter 1 is not a string");var e;return this._listeners[t]&&delete this._listeners[t],(e=this._listeners)&&0===Object.keys(e).length&&e.constructor===Object&&(this._listeners=Object.create(null)),this},n.prototype.has=function(t){if(!r(t))throw new TypeError("Parameter 1 is not a string");return this._listeners[t]&&this._listeners[t].length>0},n}();return n}));
